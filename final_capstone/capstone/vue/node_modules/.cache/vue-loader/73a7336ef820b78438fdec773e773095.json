{"remainingRequest":"/Users/punchcode/Desktop/What-The-Truck-App/final_capstone/capstone/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/punchcode/Desktop/What-The-Truck-App/final_capstone/capstone/vue/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/punchcode/Desktop/What-The-Truck-App/final_capstone/capstone/vue/src/views/Register.vue","mtime":1659718634163},{"path":"/Users/punchcode/Desktop/What-The-Truck-App/final_capstone/capstone/vue/node_modules/cache-loader/dist/cjs.js","mtime":1660673082214},{"path":"/Users/punchcode/Desktop/What-The-Truck-App/final_capstone/capstone/vue/node_modules/babel-loader/lib/index.js","mtime":1660673082087},{"path":"/Users/punchcode/Desktop/What-The-Truck-App/final_capstone/capstone/vue/node_modules/cache-loader/dist/cjs.js","mtime":1660673082214},{"path":"/Users/punchcode/Desktop/What-The-Truck-App/final_capstone/capstone/vue/node_modules/vue-loader/lib/index.js","mtime":1660673089885}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhdXRoU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9BdXRoU2VydmljZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3JlZ2lzdGVyJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgY29uZmlybVBhc3N3b3JkOiAnJywKICAgICAgICByb2xlOiAndXNlcicsCiAgICAgIH0sCiAgICAgIHJlZ2lzdHJhdGlvbkVycm9yczogZmFsc2UsCiAgICAgIHJlZ2lzdHJhdGlvbkVycm9yTXNnOiAnVGhlcmUgd2VyZSBwcm9ibGVtcyByZWdpc3RlcmluZyB0aGlzIHVzZXIuJywKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWdpc3RlcigpIHsKICAgICAgaWYgKHRoaXMudXNlci5wYXNzd29yZCAhPSB0aGlzLnVzZXIuY29uZmlybVBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5yZWdpc3RyYXRpb25FcnJvcnMgPSB0cnVlOwogICAgICAgIHRoaXMucmVnaXN0cmF0aW9uRXJyb3JNc2cgPSAnUGFzc3dvcmQgJiBDb25maXJtIFBhc3N3b3JkIGRvIG5vdCBtYXRjaC4nOwogICAgICB9IGVsc2UgewogICAgICAgIGF1dGhTZXJ2aWNlCiAgICAgICAgICAucmVnaXN0ZXIodGhpcy51c2VyKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAxKSB7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogJy9sb2dpbicsCiAgICAgICAgICAgICAgICBxdWVyeTogeyByZWdpc3RyYXRpb246ICdzdWNjZXNzJyB9LAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGVycm9yLnJlc3BvbnNlOwogICAgICAgICAgICB0aGlzLnJlZ2lzdHJhdGlvbkVycm9ycyA9IHRydWU7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMCkgewogICAgICAgICAgICAgIHRoaXMucmVnaXN0cmF0aW9uRXJyb3JNc2cgPSAnQmFkIFJlcXVlc3Q6IFZhbGlkYXRpb24gRXJyb3JzJzsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjbGVhckVycm9ycygpIHsKICAgICAgdGhpcy5yZWdpc3RyYXRpb25FcnJvcnMgPSBmYWxzZTsKICAgICAgdGhpcy5yZWdpc3RyYXRpb25FcnJvck1zZyA9ICdUaGVyZSB3ZXJlIHByb2JsZW1zIHJlZ2lzdGVyaW5nIHRoaXMgdXNlci4nOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"register\" class=\"text-center\">\n    <form class=\"form-register\" @submit.prevent=\"register\">\n      <h1 class=\"h3 mb-3 font-weight-normal\">Create Account</h1>\n      <div class=\"alert alert-danger\" role=\"alert\" v-if=\"registrationErrors\">\n        {{ registrationErrorMsg }}\n      </div>\n      <label for=\"username\" class=\"sr-only\">Username</label>\n      <input\n        type=\"text\"\n        id=\"username\"\n        class=\"form-control\"\n        placeholder=\"Username\"\n        v-model=\"user.username\"\n        required\n        autofocus\n      />\n      <label for=\"password\" class=\"sr-only\">Password</label>\n      <input\n        type=\"password\"\n        id=\"password\"\n        class=\"form-control\"\n        placeholder=\"Password\"\n        v-model=\"user.password\"\n        required\n      />\n      <input\n        type=\"password\"\n        id=\"confirmPassword\"\n        class=\"form-control\"\n        placeholder=\"Confirm Password\"\n        v-model=\"user.confirmPassword\"\n        required\n      />\n      <router-link :to=\"{ name: 'login' }\">Have an account?</router-link>\n      <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">\n        Create Account\n      </button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport authService from '../services/AuthService';\n\nexport default {\n  name: 'register',\n  data() {\n    return {\n      user: {\n        username: '',\n        password: '',\n        confirmPassword: '',\n        role: 'user',\n      },\n      registrationErrors: false,\n      registrationErrorMsg: 'There were problems registering this user.',\n    };\n  },\n  methods: {\n    register() {\n      if (this.user.password != this.user.confirmPassword) {\n        this.registrationErrors = true;\n        this.registrationErrorMsg = 'Password & Confirm Password do not match.';\n      } else {\n        authService\n          .register(this.user)\n          .then((response) => {\n            if (response.status == 201) {\n              this.$router.push({\n                path: '/login',\n                query: { registration: 'success' },\n              });\n            }\n          })\n          .catch((error) => {\n            const response = error.response;\n            this.registrationErrors = true;\n            if (response.status === 400) {\n              this.registrationErrorMsg = 'Bad Request: Validation Errors';\n            }\n          });\n      }\n    },\n    clearErrors() {\n      this.registrationErrors = false;\n      this.registrationErrorMsg = 'There were problems registering this user.';\n    },\n  },\n};\n</script>\n\n<style></style>\n"]}]}